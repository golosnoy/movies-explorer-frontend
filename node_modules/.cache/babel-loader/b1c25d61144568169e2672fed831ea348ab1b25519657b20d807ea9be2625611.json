{"ast":null,"code":"import _classCallCheck from\"D:/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var MoviesApi=/*#__PURE__*/function(){function MoviesApi(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,MoviesApi);this.baseUrl=baseUrl;this.headers=headers;this.cachedMovies=null;}_createClass(MoviesApi,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"getMoviesList\",value:function getMoviesList(){var _this=this;if(this.cachedMovies){return Promise.resolve(this.cachedMovies);}return fetch(this.baseUrl,{headers:this.headers}).then(function(res){var films=_this._getResponseData(res);_this.cachedMovies=films;return films;});}}]);return MoviesApi;}();var apiOther=new MoviesApi({baseUrl:\"https://api.nomoreparties.co/beatfilm-movies\",headers:{\"Content-Type\":\"application/json\"}});export default apiOther;","map":{"version":3,"names":["MoviesApi","_ref","baseUrl","headers","_classCallCheck","cachedMovies","_createClass","key","value","_getResponseData","res","ok","Promise","reject","concat","status","json","getMoviesList","_this","resolve","fetch","then","films","apiOther"],"sources":["D:/dev/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["class MoviesApi {\r\n    constructor({ baseUrl, headers }) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n        this.cachedMovies = null;\r\n    }\r\n\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getMoviesList() {\r\n        if (this.cachedMovies) {\r\n            return Promise.resolve(this.cachedMovies);\r\n        }\r\n        return fetch(this.baseUrl, {\r\n            headers: this.headers\r\n        })\r\n            .then((res) => {\r\n                const films = this._getResponseData(res);\r\n                this.cachedMovies = films;\r\n                return films;\r\n            });\r\n    }\r\n\r\n}\r\n\r\nconst apiOther = new MoviesApi({\r\n    baseUrl: \"https://api.nomoreparties.co/beatfilm-movies\",\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\nexport default apiOther;"],"mappings":"2OAAM,CAAAA,SAAS,yBACX,SAAAA,UAAAC,IAAA,CAAkC,IAApB,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAAC,eAAA,MAAAJ,SAAA,EAC1B,IAAI,CAACE,OAAO,CAAGA,OAAO,CACtB,IAAI,CAACC,OAAO,CAAGA,OAAO,CACtB,IAAI,CAACE,YAAY,CAAG,IAAI,CAC5B,CAACC,YAAA,CAAAN,SAAA,GAAAO,GAAA,oBAAAC,KAAA,CAGD,SAAAC,iBAAiBC,GAAG,CAAE,CAClB,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACT,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYJ,GAAG,CAACK,MAAM,CAAE,CAAC,CAClD,CACA,MAAO,CAAAL,GAAG,CAACM,IAAI,CAAC,CAAC,CACrB,CAAC,GAAAT,GAAA,iBAAAC,KAAA,CAED,SAAAS,cAAA,CAAgB,KAAAC,KAAA,MACZ,GAAI,IAAI,CAACb,YAAY,CAAE,CACnB,MAAO,CAAAO,OAAO,CAACO,OAAO,CAAC,IAAI,CAACd,YAAY,CAAC,CAC7C,CACA,MAAO,CAAAe,KAAK,CAAC,IAAI,CAAClB,OAAO,CAAE,CACvBC,OAAO,CAAE,IAAI,CAACA,OAClB,CAAC,CAAC,CACGkB,IAAI,CAAC,SAACX,GAAG,CAAK,CACX,GAAM,CAAAY,KAAK,CAAGJ,KAAI,CAACT,gBAAgB,CAACC,GAAG,CAAC,CACxCQ,KAAI,CAACb,YAAY,CAAGiB,KAAK,CACzB,MAAO,CAAAA,KAAK,CAChB,CAAC,CAAC,CACV,CAAC,WAAAtB,SAAA,KAIL,GAAM,CAAAuB,QAAQ,CAAG,GAAI,CAAAvB,SAAS,CAAC,CAC3BE,OAAO,CAAE,8CAA8C,CACvDC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEF,cAAe,CAAAoB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}