{"ast":null,"code":"class MoviesApi {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n    this.cachedMovies = null;\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  getMoviesList() {\n    if (this.cachedMovies) {\n      return Promise.resolve(this.cachedMovies);\n    }\n    return fetch(this.baseUrl, {\n      headers: this.headers\n    }).then(res => {\n      const films = this._getResponseData(res);\n      this.cachedMovies = films;\n      return films;\n    });\n  }\n}\nconst apiOther = new MoviesApi({\n  baseUrl: \"https://api.nomoreparties.co/beatfilm-movies\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default apiOther;","map":{"version":3,"names":["MoviesApi","constructor","_ref","baseUrl","headers","cachedMovies","_getResponseData","res","ok","Promise","reject","status","json","getMoviesList","resolve","fetch","then","films","apiOther"],"sources":["D:/dev/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["class MoviesApi {\r\n    constructor({ baseUrl, headers }) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n        this.cachedMovies = null;\r\n    }\r\n\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getMoviesList() {\r\n        if (this.cachedMovies) {\r\n            return Promise.resolve(this.cachedMovies);\r\n        }\r\n        return fetch(this.baseUrl, {\r\n            headers: this.headers\r\n        })\r\n            .then((res) => {\r\n                const films = this._getResponseData(res);\r\n                this.cachedMovies = films;\r\n                return films;\r\n            });\r\n    }\r\n\r\n}\r\n\r\nconst apiOther = new MoviesApi({\r\n    baseUrl: \"https://api.nomoreparties.co/beatfilm-movies\",\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\nexport default apiOther;"],"mappings":"AAAA,MAAMA,SAAS,CAAC;EACZC,WAAWA,CAAAC,IAAA,EAAuB;IAAA,IAAtB;MAAEC,OAAO;MAAEC;IAAQ,CAAC,GAAAF,IAAA;IAC5B,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,YAAY,GAAG,IAAI;EAC5B;EAGAC,gBAAgBA,CAACC,GAAG,EAAE;IAClB,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;MACT,OAAOC,OAAO,CAACC,MAAM,CAAE,WAAUH,GAAG,CAACI,MAAO,EAAC,CAAC;IAClD;IACA,OAAOJ,GAAG,CAACK,IAAI,CAAC,CAAC;EACrB;EAEAC,aAAaA,CAAA,EAAG;IACZ,IAAI,IAAI,CAACR,YAAY,EAAE;MACnB,OAAOI,OAAO,CAACK,OAAO,CAAC,IAAI,CAACT,YAAY,CAAC;IAC7C;IACA,OAAOU,KAAK,CAAC,IAAI,CAACZ,OAAO,EAAE;MACvBC,OAAO,EAAE,IAAI,CAACA;IAClB,CAAC,CAAC,CACGY,IAAI,CAAET,GAAG,IAAK;MACX,MAAMU,KAAK,GAAG,IAAI,CAACX,gBAAgB,CAACC,GAAG,CAAC;MACxC,IAAI,CAACF,YAAY,GAAGY,KAAK;MACzB,OAAOA,KAAK;IAChB,CAAC,CAAC;EACV;AAEJ;AAEA,MAAMC,QAAQ,GAAG,IAAIlB,SAAS,CAAC;EAC3BG,OAAO,EAAE,8CAA8C;EACvDC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAEF,eAAec,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}