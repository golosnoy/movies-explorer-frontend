{"ast":null,"code":"import _objectWithoutProperties from\"D:/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"serverResWithError\",\"handleLogin\"];import{userContex}from\"../../../contexts/CurrentUserContext\";import'./Login.css';import{useContext}from'react';import{Navigate}from'react-router-dom';import WithForm from'../../WithForm/WithForm';import{useFormWithValidation}from'../../Validate/Validate';import{pattern}from\"../../../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var serverResWithError=_ref.serverResWithError,handleLogin=_ref.handleLogin,props=_objectWithoutProperties(_ref,_excluded);var currentUser=useContext(userContex);var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,handleChange=_useFormWithValidatio.handleChange,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid;function handleLogins(email,password){handleLogin(email.toLowerCase(),password);};function handleSubmit(evt){evt.preventDefault();var email=values.email,password=values.password;handleLogins(email,password);}if(currentUser){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsx(\"section\",{className:\"authorization\",children:/*#__PURE__*/_jsx(\"div\",{className:\"authorization__container\",children:/*#__PURE__*/_jsx(WithForm,{className:\"authorization\",title:\"\\u0420\\u0430\\u0434\\u044B \\u0432\\u0438\\u0434\\u0435\\u0442\\u044C!\",buttonText:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",authText:\"\\u0415\\u0449\\u0451 \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\",authLinkText:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",authLink:\"/signup\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"authorization__form\",action:\"formEntrance\",name:\"formEntrance\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"authorization__inputs\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"authorization__label\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{className:\"authorization__input authorization__input_user_email\",value:values.email||'',onChange:handleChange,pattern:pattern,type:\"email\",id:\"user-email\",name:\"email\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"authorization__span \".concat(!errors?\"\":\"authorization__span_type_input_error\"),children:errors.email}),/*#__PURE__*/_jsx(\"label\",{className:\"authorization__label\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{className:\"authorization__input authorization__input_user_password\",value:values.password||'',onChange:handleChange,type:\"password\",id:\"user-password\",name:\"password\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"authorization__span \".concat(!errors?\"\":\"authorization__span_type_input_error\"),children:errors.password})]}),/*#__PURE__*/_jsx(\"span\",{className:\"authorization__span \".concat(!serverResWithError?\"\":\"authorization__span_type_login\"),children:serverResWithError.message}),/*#__PURE__*/_jsx(\"button\",{className:\"authorization__form-btn-sends-authorization \".concat(isValid?\"authorization__form-btn-sends-authorization_active\":\"\"),disabled:!isValid,type:\"submit\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})})})});}export default Login;","map":{"version":3,"names":["userContex","useContext","Navigate","WithForm","useFormWithValidation","pattern","jsx","_jsx","jsxs","_jsxs","Login","_ref","serverResWithError","handleLogin","props","_objectWithoutProperties","_excluded","currentUser","_useFormWithValidatio","values","handleChange","errors","isValid","handleLogins","email","password","toLowerCase","handleSubmit","evt","preventDefault","to","className","children","title","buttonText","authText","authLinkText","authLink","onSubmit","action","name","value","onChange","type","id","required","concat","message","disabled"],"sources":["D:/dev/movies-explorer-frontend/src/components/Authorization/Login/Login.js"],"sourcesContent":["import { userContex } from \"../../../contexts/CurrentUserContext\";\r\n\r\nimport './Login.css';\r\nimport { useContext } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport WithForm from '../../WithForm/WithForm';\r\nimport { useFormWithValidation } from '../../Validate/Validate';\r\nimport { pattern } from \"../../../utils/constants\";\r\n\r\nfunction Login({ serverResWithError, handleLogin, ...props }) {\r\n    const currentUser = useContext(userContex);\r\n    const { values, handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n    function handleLogins(email, password) {\r\n        handleLogin(email.toLowerCase(), password);\r\n    };\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        const { email, password } = values;\r\n        handleLogins(email, password);\r\n    }\r\n\r\n    if (currentUser) {\r\n        return <Navigate to=\"/\" />\r\n    } return (\r\n        <section className='authorization'>\r\n            <div className='authorization__container'>\r\n                <WithForm\r\n                    className='authorization'\r\n                    title='Рады видеть!'\r\n                    buttonText='Войти'\r\n                    authText='Ещё не зарегистрированы?'\r\n                    authLinkText='Регистрация'\r\n                    authLink='/signup'\r\n                >\r\n\r\n                    <form\r\n                        onSubmit={handleSubmit}\r\n                        className=\"authorization__form\"\r\n                        action=\"formEntrance\"\r\n                        name=\"formEntrance\"\r\n                    >\r\n                        <div className='authorization__inputs'>\r\n                            <label className='authorization__label'>E-mail</label>\r\n                            <input className='authorization__input authorization__input_user_email' value={values.email || ''} onChange={handleChange} pattern={pattern} type='email' id='user-email' name='email' required />\r\n                            <span className={`authorization__span ${!errors ? \"\" : \"authorization__span_type_input_error\"}`}\r\n                            >{errors.email}</span>\r\n                            <label className='authorization__label'>Пароль</label>\r\n                            <input className='authorization__input authorization__input_user_password' value={values.password || ''} onChange={handleChange} type='password' id='user-password' name='password' required />\r\n                            <span className={`authorization__span ${!errors ? \"\" : \"authorization__span_type_input_error\"}`}\r\n                            >{errors.password}</span>\r\n                        </div>\r\n\r\n                        <span\r\n                            className={\r\n                                `authorization__span ${!serverResWithError\r\n                                    ? \"\"\r\n                                    : \"authorization__span_type_login\"}`\r\n                            }\r\n                        >\r\n                            {serverResWithError.message}\r\n                        </span>\r\n                        <button\r\n                            className={`authorization__form-btn-sends-authorization ${isValid ? \"authorization__form-btn-sends-authorization_active\" : \"\"}`}\r\n                            disabled={!isValid}\r\n                            type='submit'\r\n\r\n                        >\r\n                            Войти\r\n                        </button>\r\n                    </form>\r\n                </WithForm>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"4LAAA,OAASA,UAAU,KAAQ,sCAAsC,CAEjE,MAAO,aAAa,CACpB,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,yBAAyB,CAC9C,OAASC,qBAAqB,KAAQ,yBAAyB,CAC/D,OAASC,OAAO,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAgD,IAA7C,CAAAC,kBAAkB,CAAAD,IAAA,CAAlBC,kBAAkB,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAKC,KAAK,CAAAC,wBAAA,CAAAJ,IAAA,CAAAK,SAAA,EACtD,GAAM,CAAAC,WAAW,CAAGhB,UAAU,CAACD,UAAU,CAAC,CAC1C,IAAAkB,qBAAA,CAAkDd,qBAAqB,CAAC,CAAC,CAAjEe,MAAM,CAAAD,qBAAA,CAANC,MAAM,CAAEC,YAAY,CAAAF,qBAAA,CAAZE,YAAY,CAAEC,MAAM,CAAAH,qBAAA,CAANG,MAAM,CAAEC,OAAO,CAAAJ,qBAAA,CAAPI,OAAO,CAE7C,QAAS,CAAAC,YAAYA,CAACC,KAAK,CAAEC,QAAQ,CAAE,CACnCZ,WAAW,CAACW,KAAK,CAACE,WAAW,CAAC,CAAC,CAAED,QAAQ,CAAC,CAC9C,CAAC,CAED,QAAS,CAAAE,YAAYA,CAACC,GAAG,CAAE,CACvBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpB,GAAQ,CAAAL,KAAK,CAAeL,MAAM,CAA1BK,KAAK,CAAEC,QAAQ,CAAKN,MAAM,CAAnBM,QAAQ,CACvBF,YAAY,CAACC,KAAK,CAAEC,QAAQ,CAAC,CACjC,CAEA,GAAIR,WAAW,CAAE,CACb,mBAAOV,IAAA,CAACL,QAAQ,EAAC4B,EAAE,CAAC,GAAG,CAAE,CAAC,CAC9B,CAAE,mBACEvB,IAAA,YAASwB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC9BzB,IAAA,QAAKwB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACrCzB,IAAA,CAACJ,QAAQ,EACL4B,SAAS,CAAC,eAAe,CACzBE,KAAK,CAAC,gEAAc,CACpBC,UAAU,CAAC,gCAAO,CAClBC,QAAQ,CAAC,mIAA0B,CACnCC,YAAY,CAAC,oEAAa,CAC1BC,QAAQ,CAAC,SAAS,CAAAL,QAAA,cAGlBvB,KAAA,SACI6B,QAAQ,CAAEX,YAAa,CACvBI,SAAS,CAAC,qBAAqB,CAC/BQ,MAAM,CAAC,cAAc,CACrBC,IAAI,CAAC,cAAc,CAAAR,QAAA,eAEnBvB,KAAA,QAAKsB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClCzB,IAAA,UAAOwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cACtDzB,IAAA,UAAOwB,SAAS,CAAC,sDAAsD,CAACU,KAAK,CAAEtB,MAAM,CAACK,KAAK,EAAI,EAAG,CAACkB,QAAQ,CAAEtB,YAAa,CAACf,OAAO,CAAEA,OAAQ,CAACsC,IAAI,CAAC,OAAO,CAACC,EAAE,CAAC,YAAY,CAACJ,IAAI,CAAC,OAAO,CAACK,QAAQ,MAAE,CAAC,cAClMtC,IAAA,SAAMwB,SAAS,wBAAAe,MAAA,CAAyB,CAACzB,MAAM,CAAG,EAAE,CAAG,sCAAsC,CAAG,CAAAW,QAAA,CAC9FX,MAAM,CAACG,KAAK,CAAO,CAAC,cACtBjB,IAAA,UAAOwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,sCAAM,CAAO,CAAC,cACtDzB,IAAA,UAAOwB,SAAS,CAAC,yDAAyD,CAACU,KAAK,CAAEtB,MAAM,CAACM,QAAQ,EAAI,EAAG,CAACiB,QAAQ,CAAEtB,YAAa,CAACuB,IAAI,CAAC,UAAU,CAACC,EAAE,CAAC,eAAe,CAACJ,IAAI,CAAC,UAAU,CAACK,QAAQ,MAAE,CAAC,cAC/LtC,IAAA,SAAMwB,SAAS,wBAAAe,MAAA,CAAyB,CAACzB,MAAM,CAAG,EAAE,CAAG,sCAAsC,CAAG,CAAAW,QAAA,CAC9FX,MAAM,CAACI,QAAQ,CAAO,CAAC,EACxB,CAAC,cAENlB,IAAA,SACIwB,SAAS,wBAAAe,MAAA,CACkB,CAAClC,kBAAkB,CACpC,EAAE,CACF,gCAAgC,CACzC,CAAAoB,QAAA,CAEApB,kBAAkB,CAACmC,OAAO,CACzB,CAAC,cACPxC,IAAA,WACIwB,SAAS,gDAAAe,MAAA,CAAiDxB,OAAO,CAAG,oDAAoD,CAAG,EAAE,CAAG,CAChI0B,QAAQ,CAAE,CAAC1B,OAAQ,CACnBqB,IAAI,CAAC,QAAQ,CAAAX,QAAA,CAEhB,gCAED,CAAQ,CAAC,EACP,CAAC,CACD,CAAC,CACV,CAAC,CACD,CAAC,CAElB,CAEA,cAAe,CAAAtB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}