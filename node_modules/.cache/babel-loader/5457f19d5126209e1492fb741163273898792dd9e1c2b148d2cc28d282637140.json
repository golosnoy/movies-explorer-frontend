{"ast":null,"code":"import _objectSpread from\"D:/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useCallback,useMemo}from\"react\";import Layout from\"../../components/Layout/Layout\";import MoviesCard from\"../../components/Movies/MoviesCard/MoviesCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PageSaveMovies(props){var _filteredMovies$map;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),filterString=_useState2[0],setFilterString=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showShortOnly=_useState6[0],setShowShortOnly=_useState6[1];var filteredMovies=useMemo(function(){return props.dataUserMovies.filter(function(movie){if(showShortOnly&&movie.duration>40){return false;}return movie.nameRU.toLowerCase().includes(filterString)||movie.nameEN.toLowerCase().includes(filterString);});},[props.dataUserMovies,filterString,showShortOnly]);var handleSearch=useCallback(function(query){setFilterString(query);},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Layout,{searchValue:searchValue,setSearchValue:setSearchValue,preloader:props.preloader,dataUserMovies:filteredMovies,getErrorMovies:props.getErrorMovies,showBlockErr:props.showBlockErr,usersSearchRequest:handleSearch,showBlockCards:props.showBlockCards,showShortOnly:showShortOnly,setShowShortOnly:setShowShortOnly,children:(_filteredMovies$map=filteredMovies.map(function(movie){return/*#__PURE__*/_jsx(MoviesCard,_objectSpread({movie:movie,hendlerMoviesLike:props.hendlerMoviesLike,handleAddPlaceSubmit:props.handleAddPlaceSubmit,hendlerMoviesDelete:props.hendlerMoviesDelete,dataUserMovies:props.dataUserMovies},movie),movie._id);}))!==null&&_filteredMovies$map!==void 0?_filteredMovies$map:[]})});}export default PageSaveMovies;","map":{"version":3,"names":["React","useState","useCallback","useMemo","Layout","MoviesCard","jsx","_jsx","Fragment","_Fragment","PageSaveMovies","props","_filteredMovies$map","_useState","_useState2","_slicedToArray","filterString","setFilterString","_useState3","_useState4","searchValue","setSearchValue","_useState5","_useState6","showShortOnly","setShowShortOnly","filteredMovies","dataUserMovies","filter","movie","duration","nameRU","toLowerCase","includes","nameEN","handleSearch","query","children","preloader","getErrorMovies","showBlockErr","usersSearchRequest","showBlockCards","map","_objectSpread","hendlerMoviesLike","handleAddPlaceSubmit","hendlerMoviesDelete","_id"],"sources":["D:/dev/movies-explorer-frontend/src/pages/PageSaveMovies/PageSaveMovies.js"],"sourcesContent":["import { React, useState, useCallback, useMemo } from \"react\";\r\nimport Layout from \"../../components/Layout/Layout\";\r\nimport MoviesCard from \"../../components/Movies/MoviesCard/MoviesCard\";\r\n\r\nfunction PageSaveMovies(props) {\r\n    const [filterString, setFilterString] = useState(\"\");\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n    const [showShortOnly, setShowShortOnly] = useState(false);\r\n\r\n    const filteredMovies = useMemo(() => {\r\n        return props.dataUserMovies.filter((movie) => {\r\n            if (showShortOnly && movie.duration > 40) {\r\n                return false;\r\n            }\r\n            return (\r\n                movie.nameRU.toLowerCase().includes(filterString) ||\r\n                movie.nameEN.toLowerCase().includes(filterString)\r\n            );\r\n        });\r\n    }, [props.dataUserMovies, filterString, showShortOnly]);\r\n\r\n    const handleSearch = useCallback((query) => {\r\n        setFilterString(query);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Layout\r\n                searchValue={searchValue}\r\n                setSearchValue={setSearchValue}\r\n                preloader={props.preloader}\r\n                dataUserMovies={filteredMovies}\r\n                getErrorMovies={props.getErrorMovies}\r\n                showBlockErr={props.showBlockErr}\r\n                usersSearchRequest={handleSearch}\r\n                showBlockCards={props.showBlockCards}\r\n                showShortOnly={showShortOnly}\r\n                setShowShortOnly={setShowShortOnly}\r\n            >\r\n                {filteredMovies.map((movie) => {\r\n                    return (\r\n                        <MoviesCard\r\n                            movie={movie}\r\n                            hendlerMoviesLike={props.hendlerMoviesLike}\r\n                            handleAddPlaceSubmit={props.handleAddPlaceSubmit}\r\n                            hendlerMoviesDelete={props.hendlerMoviesDelete}\r\n                            dataUserMovies={props.dataUserMovies}\r\n                            key={movie._id}\r\n                            {...movie}\r\n                        />\r\n                    );\r\n                }) ?? []}\r\n            </Layout>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PageSaveMovies;"],"mappings":"yOAAA,OAASA,KAAK,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,OAAO,KAAQ,OAAO,CAC7D,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CACnD,MAAO,CAAAC,UAAU,KAAM,+CAA+C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEvE,QAAS,CAAAC,cAAcA,CAACC,KAAK,CAAE,KAAAC,mBAAA,CAC3B,IAAAC,SAAA,CAAwCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACpC,IAAAI,UAAA,CAAsCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAA0CrB,QAAQ,CAAC,KAAK,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAlDE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IAEtC,GAAM,CAAAG,cAAc,CAAGvB,OAAO,CAAC,UAAM,CACjC,MAAO,CAAAQ,KAAK,CAACgB,cAAc,CAACC,MAAM,CAAC,SAACC,KAAK,CAAK,CAC1C,GAAIL,aAAa,EAAIK,KAAK,CAACC,QAAQ,CAAG,EAAE,CAAE,CACtC,MAAO,MAAK,CAChB,CACA,MACI,CAAAD,KAAK,CAACE,MAAM,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACjB,YAAY,CAAC,EACjDa,KAAK,CAACK,MAAM,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACjB,YAAY,CAAC,CAEzD,CAAC,CAAC,CACN,CAAC,CAAE,CAACL,KAAK,CAACgB,cAAc,CAAEX,YAAY,CAAEQ,aAAa,CAAC,CAAC,CAEvD,GAAM,CAAAW,YAAY,CAAGjC,WAAW,CAAC,SAACkC,KAAK,CAAK,CACxCnB,eAAe,CAACmB,KAAK,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI7B,IAAA,CAAAE,SAAA,EAAA4B,QAAA,cACI9B,IAAA,CAACH,MAAM,EACHgB,WAAW,CAAEA,WAAY,CACzBC,cAAc,CAAEA,cAAe,CAC/BiB,SAAS,CAAE3B,KAAK,CAAC2B,SAAU,CAC3BX,cAAc,CAAED,cAAe,CAC/Ba,cAAc,CAAE5B,KAAK,CAAC4B,cAAe,CACrCC,YAAY,CAAE7B,KAAK,CAAC6B,YAAa,CACjCC,kBAAkB,CAAEN,YAAa,CACjCO,cAAc,CAAE/B,KAAK,CAAC+B,cAAe,CACrClB,aAAa,CAAEA,aAAc,CAC7BC,gBAAgB,CAAEA,gBAAiB,CAAAY,QAAA,EAAAzB,mBAAA,CAElCc,cAAc,CAACiB,GAAG,CAAC,SAACd,KAAK,CAAK,CAC3B,mBACItB,IAAA,CAACF,UAAU,CAAAuC,aAAA,EACPf,KAAK,CAAEA,KAAM,CACbgB,iBAAiB,CAAElC,KAAK,CAACkC,iBAAkB,CAC3CC,oBAAoB,CAAEnC,KAAK,CAACmC,oBAAqB,CACjDC,mBAAmB,CAAEpC,KAAK,CAACoC,mBAAoB,CAC/CpB,cAAc,CAAEhB,KAAK,CAACgB,cAAe,EAEjCE,KAAK,EADJA,KAAK,CAACmB,GAEd,CAAC,CAEV,CAAC,CAAC,UAAApC,mBAAA,UAAAA,mBAAA,CAAI,EAAE,CACJ,CAAC,CACX,CAAC,CAEX,CAEA,cAAe,CAAAF,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}