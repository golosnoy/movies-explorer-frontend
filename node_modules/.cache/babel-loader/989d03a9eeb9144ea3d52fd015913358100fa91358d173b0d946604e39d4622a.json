{"ast":null,"code":"import _objectWithoutProperties from\"D:/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"searchValue\",\"setSearchValue\",\"showShortOnly\",\"setShowShortOnly\"];import\"./SearchForm.css\";import{React}from\"react\";import{useLocation}from\"react-router-dom\";import lens from\"../../../images/searchform/magnifier.svg\";import FilterCheckbox from\"../FilterCheckbox/FilterCheckbox\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchForm(_ref){var searchValue=_ref.searchValue,setSearchValue=_ref.setSearchValue,showShortOnly=_ref.showShortOnly,setShowShortOnly=_ref.setShowShortOnly,props=_objectWithoutProperties(_ref,_excluded);var location=useLocation().pathname.toLocaleLowerCase();// Отправка запроса на фильм\nvar submitRequestMovies=function submitRequestMovies(evt){var valueInput=document.getElementById(\"searchform-input-movies\");evt.preventDefault();if(!checkValidationRequest()){return;}return props.usersSearchRequest(valueInput.value);};// Отправка запроса на сохраненные фильмы\nvar submitRequestSaveMovies=function submitRequestSaveMovies(evt){var valueInput=document.getElementById(\"searchform-input-movies\");evt.preventDefault();if(!checkValidationRequest()){return;}return props.usersSearchRequest(valueInput.value);};// Проверка пустого запроса\nvar checkValidationRequest=function checkValidationRequest(){var valueInput=document.getElementById(\"searchform-input-movies\");var showErrorInput=document.querySelector(\".searchform__error-inputSearch\");if(valueInput.value.length!==0){showErrorInput.classList.remove(\"active\");return true;}showErrorInput.textContent=\"Нужно ввести ключевое слово\";showErrorInput.classList.add(\"active\");return false;};return/*#__PURE__*/_jsx(\"section\",{className:\"searchform\",children:/*#__PURE__*/_jsx(\"div\",{className:\"searchform__container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:location===\"/movies\"?submitRequestMovies:submitRequestSaveMovies,className:\"searchform__form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchform__form__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"searchform__form-input__container\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"searchform__form-input\",type:\"text\",placeholder:\"\\u0424\\u0438\\u043B\\u044C\\u043C\",id:\"searchform-input-movies\",value:searchValue,onChange:function onChange(evt){return setSearchValue(evt.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"searchform__form-btn\",type:\"submit\",children:/*#__PURE__*/_jsx(\"p\",{className:\"searchform__form-btn_text\",children:\"\\u041D\\u0430\\u0439\\u0442\\u0438\"})})]})}),/*#__PURE__*/_jsx(FilterCheckbox,{checkBoxStat:showShortOnly,checkboxStatus:setShowShortOnly}),/*#__PURE__*/_jsx(\"span\",{className:\"searchform__error-inputSearch\"})]})})});}export default SearchForm;","map":{"version":3,"names":["React","useLocation","lens","FilterCheckbox","jsx","_jsx","jsxs","_jsxs","SearchForm","_ref","searchValue","setSearchValue","showShortOnly","setShowShortOnly","props","_objectWithoutProperties","_excluded","location","pathname","toLocaleLowerCase","submitRequestMovies","evt","valueInput","document","getElementById","preventDefault","checkValidationRequest","usersSearchRequest","value","submitRequestSaveMovies","showErrorInput","querySelector","length","classList","remove","textContent","add","className","children","onSubmit","type","placeholder","id","onChange","target","checkBoxStat","checkboxStatus"],"sources":["D:/dev/movies-explorer-frontend/src/components/Movies/SearchForm/SearchForm.js"],"sourcesContent":["import \"./SearchForm.css\";\r\nimport { React } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport lens from \"../../../images/searchform/magnifier.svg\";\r\nimport FilterCheckbox from \"../FilterCheckbox/FilterCheckbox\";\r\n\r\nfunction SearchForm({\r\n    searchValue,\r\n    setSearchValue,\r\n    showShortOnly,\r\n    setShowShortOnly,\r\n    ...props\r\n}) {\r\n    const location = useLocation().pathname.toLocaleLowerCase();\r\n\r\n    // Отправка запроса на фильм\r\n    const submitRequestMovies = (evt) => {\r\n        const valueInput = document.getElementById(\"searchform-input-movies\");\r\n\r\n        evt.preventDefault();\r\n        if (!checkValidationRequest()) {\r\n            return;\r\n        }\r\n        return props.usersSearchRequest(valueInput.value);\r\n    };\r\n\r\n    // Отправка запроса на сохраненные фильмы\r\n    const submitRequestSaveMovies = (evt) => {\r\n        const valueInput = document.getElementById(\"searchform-input-movies\");\r\n\r\n        evt.preventDefault();\r\n        if (!checkValidationRequest()) {\r\n            return;\r\n        }\r\n        return props.usersSearchRequest(valueInput.value);\r\n    };\r\n\r\n    // Проверка пустого запроса\r\n    const checkValidationRequest = () => {\r\n        const valueInput = document.getElementById(\"searchform-input-movies\");\r\n        const showErrorInput = document.querySelector(\r\n            \".searchform__error-inputSearch\"\r\n        );\r\n\r\n        if (valueInput.value.length !== 0) {\r\n            showErrorInput.classList.remove(\"active\");\r\n            return true;\r\n        }\r\n        showErrorInput.textContent = \"Нужно ввести ключевое слово\";\r\n        showErrorInput.classList.add(\"active\");\r\n        return false;\r\n    };\r\n\r\n    return (\r\n        <section className=\"searchform\">\r\n            <div className=\"searchform__container\">\r\n                <form\r\n                    onSubmit={\r\n                        location === \"/movies\"\r\n                            ? submitRequestMovies\r\n                            : submitRequestSaveMovies\r\n                    }\r\n                    className=\"searchform__form\"\r\n                >\r\n                    <div className=\"searchform__form__container\">\r\n                        <div className=\"searchform__form-input__container\">\r\n                            <input\r\n                                className=\"searchform__form-input\"\r\n                                type=\"text\"\r\n                                placeholder=\"Фильм\"\r\n                                id=\"searchform-input-movies\"\r\n                                value={searchValue}\r\n                                onChange={(evt) => setSearchValue(evt.target.value)}\r\n                            />\r\n                            <button className=\"searchform__form-btn\" type=\"submit\">\r\n                                <p className=\"searchform__form-btn_text\">Найти</p>\r\n                            </button>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <FilterCheckbox\r\n                            checkBoxStat={showShortOnly}\r\n                            checkboxStatus={setShowShortOnly}\r\n                        />\r\n                    <span className=\"searchform__error-inputSearch\"></span>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default SearchForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}